## geetest极验——当验证码帮你找回童年

极验验证是一种在计算机领域用于区分自然人和机器人的，通过简单集成的方式，为开发者提供安全、便捷的云端验证服务。与以往传统验证码的最大区别是，极验通过分析用户完成拼图过程中的行为特征，通过数据分析来判断是人还是机器。人在进入一个网站之后会产生一串时间上连续的行为，这些行为都是会进行人机交互的，也就是会产生相应的数据的，通过对这些数据进行分析，找出人和机器的差别就可以进行区别啦(●'◡'●)

### 主要原理：
* 浏览器向客户服务器请求页面
* 客户服务器向极验服务器发起请求
* 根据极验服务器的运行情况返回不同的页面
	* 如果极验服务器正常。 加载极验验证
	* 如果极验服务器不正常。 加载极验离线版，或者用户自己的原始数字图片验证码
* 用户提交页面时，执行不同的验证手段。

离线备选方案通讯图如下：
![Image text](https://github.com/Zhaojytt/ns/blob/master/2016-2/zjy/img_folder/22.png)
### 优势

* 安全性较高	（来自官方，不排除有自卖自夸之嫌）
	
	* 防重放
	
		客户服务器会对验证结果进行一次查询，在极验的服务器上，只要验证被查询过一次就失效，不存在“一次成功，反复重复验证”的情况。

	* 防绕过

		因为极验验证是存在客户服务器的二次查询机制，此通过过程来自于两个可信终端：网站主服务器和极验服务器，完全避免了机器人在客户端上对判定结果的更改，避免破解程序绕过验证模块。

	* 防人工打码
		
		极验验证模块对所有的验证活动都具有时效限制，不可能存在一次性拖动N次，然后在过很久后再集中使用刷榜的问题。从根本上极大的增加了人工打码的成本。

	* 防破解
	
		采用行为式验证技术，通过200多种维度对用户的“行为特征”进行人机区分，并且每30分钟全网动态更新的安全模型库进一步保障网站安全，让破解的难度和成本大大提高，即使有黑客破解了，但是也会被立即被拉入黑名单。

	
* 用户体验较好
	* 验证时间短
	* 不必面对眼花缭乱的英文字符或汉字，整个验证过程变的像游戏一样有趣。
	
### geetest的破解

结合官方的文档及测验来看，geetest是安全的，而且还好玩。但是不久我就发现很多人都说已经破解了，而且目测感觉比传统的验证码还要轻松，excuse me(笑哭）其实也好理解，geetest相较与传统验证码，最关键就是分析人的行为，在这里的体现就是用户鼠标移动的轨迹，那么破解的突破口也就是这儿，下面是我看过有的破解案例之后总结的一个思路：

* 采集人类鼠标移动轨迹数据
	* 主要是自己手动画出轨迹，通过一些轨迹记录软件记录

* 分析数据，得出规律
	* 将时间，位移等数据进行分析，得出运动变化规律

* 数学分析，尝试破解

>[https://github.com/wsguest/geetest/tree/master/demo/Properties](url)这里有一个破解的代码，不过欠缺依赖的环境，所以还没试。

### 总结——但愿不是只是玩玩儿
感觉并没有官方说的那么高大上，那么无敌。虽然更新了算法，比之前破解难度加大，但是感觉还是比较轻松呀。尤其是当我发现点触，感觉要移情别恋了，geetest要加油啊

### 学习来源

[http://www.cnblogs.com/daidai2016/p/5733475.html](url)

[https://www.zhihu.com/question/28833985](url)

[http://www.geetest.com/install/sections/idx-basic-introduction.html](url)

[https://github.com/wsguest/geetest/tree/master/demo/Properties](url)
