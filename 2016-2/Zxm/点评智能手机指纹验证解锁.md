## 点评智能手机指纹验证解锁
##### 指纹解锁实际上是以降低了手机安全性的方法提升了易用性。
### 一、简单密码解锁与指纹解锁对比
+ 便利性
	+ 指纹解锁：
		+ 相比起输入数位密码，简单地按一下手指解锁更加方便。
		+ 无需记忆密码。
	+ 密码解锁：
		+ 需要输入6位或者更长的密码，费时费力。
		+ 需要记忆各种不同的密码，很有可能记混、记错。
+ 准确性
	+ 指纹解锁：
		+ 正常情况下，一个人的指纹都是不会改变的，是唯一确定的。
	+ 密码解锁：
		+ 在慌乱、紧张或是意识不清醒的时候，很容易输入错误的密码。		
+ 是否受外界影响
	+ 指纹解锁：
		+ 当手粘上水或油污，或者受伤包扎起来之后，便无法正确的识别到指纹，影响使用。
		+ 在光学指纹识别+温度感应的指纹识别系统中，手指的温度会影响到识别是否准确。
	+ 密码解锁：
		+ 只要输入了正确的密码便可解锁，不会因为手沾了水而无法使用。
+ 是否受知识水平影响
	+ 指纹解锁：
		+ 只要录入了指纹便可解锁，并不受知识水平影响。
	+ 密码解锁：
		+ 需要记忆长串数字或数字字母混合的字符串，若不识字或智力水平较低则无法正常使用。
+ 响应速度
	+ 指纹解锁：
		+ 指纹解锁先要收集指纹，生成图像并处理，然后再提取特征，最后才与已有的指纹库中的指纹特征进行比对，符合才解锁，速度较慢。
	+ 密码解锁：
		+ 密码解锁只用将输入的密码处理后与存储的加密后的密码进行对比即可解锁，步骤少很多，响应速度比指纹解锁快。
+ 盗取难度：
	+ 指纹解锁：
		+ 指纹在人生活的场所几乎是无处不在的，水杯上、手机屏幕上、任何一个光滑的平面上都可能会留下指纹。而且如今的技术手段已经可以通过照片上获取到指纹。
	+ 密码解锁：
		+ 若是看到过并且留意了别人解锁密码时的动作，就相当于他将密码告诉了你。
		+ 但是如果是从未接触过的人的密码，要猜测出来是很难的。
+ 可否更改：
	+ 指纹解锁：
		+ 每个人的指纹都是唯一的，泄露后会永久的造成威胁。
	+ 密码解锁：
		+ 密码被盗取后随时可以更改，可以及时止损，消除威胁。 
+ 他人可否使用
	+ 指纹解锁：
		+ 指纹解锁别人是无法通过正常的步骤来解锁你的手机的，即使获取到了你的指纹制作了模具，也还要通过生物特征识别才可以。
	+ 密码解锁:
		+ 一旦知道了密码，马上可以使用，只会验证密码的正确性而不会验证使用者是否可信。
+ 密码多样性
	+ 指纹解锁：
		+ 人的指纹都是唯一的，被盗取之后无法更改，可以用来解锁所有支持指纹解锁的软硬件。被盗取一个就被盗取了全部的密码。
	+ 密码解锁：
		+ 不同的账号可以设置不同的密码，多种多样。盗取了一个密码不代表盗取了所有的密码。（当然很多人为了方便记忆将所有密码都设成同一个，这样是极其不安全的。）
		
	综上所述，相对于原简单密码解锁方式，指纹解锁有以下改进之处：   
	+ 更加便捷，无需手动输入密码，只用按一下手指。  
	+ 不受知识水平影响，仍何人都可以很方便的使用。  
	+ 别人无法通过正常的指纹识别来解锁，保证了一部分的安全性。   
	+ 即使别人获取到了你的指纹，还需要很多步骤才可以解锁你的手机，但密码一旦被泄露，马上就可以解锁。
	
	对于原简单密码解锁方式，指纹解锁存在的问题：
	+ 响应速度比密码解锁慢。
	+ 易受物理层面上的影响，经常无法识别沾水的指纹，包上创可贴便无法解锁。
	+ 容易被盗取，生活中处处都有指纹的存在。且被盗取之后不可更改，带来的威胁是永久性的。
	+ 指纹象征着一个人的身份，若是被盗取了，不仅仅是被解锁手机这么简单，还可以用来通过各种指纹识别的验证，转账。若是用你的指纹做了一些违法的事情，根本无从辩解。  
	
前文也说过，指纹解锁相较于密码解锁，其实是舍弃了一部分的安全性来追求易用性。毕竟手机制造厂商不是安全工具的开发者，不仅仅要考虑到安全价值，也需要很大的实用价值。  
		
### 二、针对不同智能手机的指纹验证解锁机制的攻击方法、案例
+ 指纹传感器监视攻击（针对Android）   
	2015年8月于拉斯维加斯举行的黑帽大会（Black Hat conference）上，来自 FireEye 的研究员 Yulong Zhang 和 Tao Wei介绍了一种“指纹传感器监视攻击”的方法，展示如何窃取用户在 Android 手机上保存的指纹信息：由于许多 Android 手机并没有完全锁死指纹传感器，通过远程遥控，黑客们可以窃取到用户存储在受影响的手机中的指纹图像。而如果你 Root 了你的 Android 手机，你的指纹被窃取的风险将会更大。  
	然而往往大多数人为了删掉手机中无用的初始软件都会选择root自己的手机，一些安全软件也会需求root权限，在让手机更加符合自己喜好的时候，也会将自己的手机置于更加危险的境地。  

	+ 指纹解锁有2种架构，Fingerprint without TrustZone和Fingerprint with TrustZone。在root情况下without TrustZone是非常危险的，所有的数据都可以轻松获取到。但是在有了TrustZone的情况下，hacker在获取了root以后依然无法读取TrustZone中的指纹信息。如果想要获取指纹信息，理论上还需要破解TrustZone才行。   
	<img src="https://github.com/Hiri3024/ns/blob/master/2016-2/Zxm/withoutTrustZone.png" width="600" height="330" alt="Fingerprint with TrustZone"/> 
	<img src="https://github.com/Hiri3024/ns/blob/master/2016-2/Zxm/withTrustZone.png" width="600" height="330" alt="Fingerprint with TrustZone"/> 
	+ confused attack（迷惑性攻击）  
		+ 采取迷惑性攻击，让用户以为是在解锁手机，但是其实却是通过了转账的指纹验证。以为是验证身份但是其实是在行使权力。   
		指纹解锁既可以解锁手机验证身份又可以通过移动支付的验证行使权力，但其实这种攻击方法与是否指纹解锁验证关系不大，只要解锁密码和支付密码一样，这种方式都可以使用。
	+ 不安全的数据存储  
		+ 最经典的例子就是HTC one的指纹保存文件，HTC直接将指纹图像配置文件放在了手机存储的“ /data/dbgraw.bmp?a=.jpg”路径下，并启用了‘world-readable’权限，这意味着任何应用程序都能够窃取用户的指纹，对所有人都是可读可写的。毫无安全性可言。而且，每使用一次指纹传感器，存储的这部分图像就会被刷新一次，因此恶意进程可以在不被发现的情况下多次盗取图片。   
		+ 不过当此次问题被提出后，HTC已经修复了这个问题。
		+ 相对的，苹果的指纹存储是较为安全的，并不会存储使用者的物理指纹图片，只会记录指纹关键点数据。在苹果官网5S的视频介绍中也说到：“所有的指纹信息都是加密的，并保存在全新A7芯片内置的Secure Enclave之中。在这里，信息被锁定于远离一切的位置，只有Touch ID传感器才能访问，而其他一切软件均无权接触。”。
		+ 一个指纹识别系统的基础，在于指纹是否被安全的存储，若是轻而易举的就可以被窃取，那么指纹识别解锁将毫无意义。就像是给房间上了一把极其复杂的锁，却将钥匙扔在门外。	
![](http://images0.cnblogs.com/blog2015/640760/201508/071841020028385.png)
![](http://images0.cnblogs.com/blog2015/640760/201508/071841189877229.png)
	+ finger spy  
		+  虽然TrustZone非常安全，但是android系统是通过应用层的service和TrustZone进行通讯的。因此hacker可以伪造一个finger print app，并且和finger print sensor进行通讯，从而窃取到用户的指纹。三星针对这个问题的解决方式是TrustZone UI。也就是当使用指纹进行授权的时候必须通过TrustZone UI来进行，因为TrustZone UI也是TrustZone的一部分，所以黑客必须要破解掉TrustZone才能获取到指纹。
		+  此案例说明，Android系统的手机，Fingerprint without TrustZone是十分危险的，一定要使用TrustZone，特别是root过的手机。
		 ![](http://images0.cnblogs.com/blog2015/640760/201508/071841402848057.png)
	+ fingerprint backdoor  
			用户在系统的设置中可以查看当前记录的指纹数量，但是这个数量信息并没有保存在TrustZone当中。因此hacker可以留下自己的指纹作为后门，并且将增加的指纹的数量减掉。比如说在demo中fingerprint service显示仅保存了一个指纹，但是demo中却成功的用三个指纹解锁了手机屏幕，因为其中两个指纹其实是黑客留下的，为了防止用户发现，黑客将保存的指纹数修改成了1。

		> 来源：http://www.cnblogs.com/k1two2/p/4711660.html
+ 用木胶制作假指纹
	+ 此类攻击方法十分朴实，并非技术层面而是物理攻击，很好用且方便。工具只需要一小块硅橡胶或者木胶来制作指纹模型。 
	+ 三星Galaxy S5 Fingerprint Scanner 被骗过
		 http://v.youku.com/v_show/id_XNjk5NDQ2NDI4.html  
		+ 视频内容中，研究人员首先拍摄了手机屏幕上留下的指纹，然后用木胶制作出了假指纹。利用指纹模型来欺骗Galaxy S5的指纹传感器，进而控制手机。视频中还演示了同样使用指纹欺骗手段进入倍受全球亿万用户追捧的国际贸易支付工具PayPal的账号，甚至用其账号向其他账号转移资金，这是由于PayPal可以利用三星的指纹传感器取代密码。
	+ 此方法也可以用来破解iPhone的指纹密码。   
		+ 例1：http://v.youku.com/v_show/id_XNjEzMzUxNjY0.html。   
		+ 例2：
			+ 首先在纸上挤出一块膏状医用硅橡胶，随后用解锁手机的左手拇指紧紧按压。
			+ 暴露在空气中5分钟，硅橡胶便完全定型，整块硅橡胶上也留下了清晰的指纹印。
			+ 通过上面得到的指纹印被称为“阴面”，用它就可以不断复制与手指完全一致的“仿真拇指”,取用了一小块橡皮泥捏出拇指大小，印在硅胶上提取指纹，用“仿真拇指”放在iPhone的指纹识别处，经过一番摸索后，马上解开了手机锁。紧接着，记者也确认“仿真拇指”也能用于支付宝转账。
	 ![](http://img2.tgbusdata.cn/v2/thumb/jpg/RTc4RCw1ODAsMTAwLDQsMywxLC0xLDAscms1MCw2MS4xNTIuMjQyLjEx/u/iphone.tgbus.com/UploadFiles/201603/2016033010561595.gif)  
				> 来源：http://iphone.tgbus.com/tutorial/use/201603/20160330105451.shtml     
	+ 但此类方法在将来是行不通的，因为指纹识别的重点并不单单在指纹的唯一性上，更重要的是指纹识别是一种生物特征识别方法。首先要是“生物”，才会继续提取其特征。
		+ 对于光学指纹识别和电容式传感器，此方法是可以解锁的。
		+ 对于带有生物检测技术的指纹识别系统，比如电容+RF射频指纹识别技术，此方法就无法解锁手机了。
	
	
## 四、总结
指纹解锁作为如今主流的手机解锁方式，必定是有利也有弊的。其好处在于方便，不需要记密码，也具有一定的安全性。但坏处在于安全性不如密码解锁高，若是有心，获取一个人的指纹是很容易的，且指纹解锁并不需要完整的指纹，只要提取出的特征与数据库中相符即可解锁。   

+ 建议关闭支付指纹验证，以防被盗取指纹后解锁了手机就相当于拿到支付宝密码。在iPhone设置中，更改Touch ID设置时，需要输入密码才可以进入界面，关闭指纹验证支付的话若没有掌握你的密码便无法使用支付宝或Apple Pay等转账。
+ 建议关闭锁定时允许访问siri、回复信息等功能，有不少案例演示了如何利用siri和回复信息绕过锁屏获取照片等信息。
+ 不要随意ROOT手机，特别是使用Fingerprint without TrustZone架构的。这样会使你手机储存的信息相当于暴露在光天化日之下。
+ 若不是追求安全性而是便捷 ，指纹解锁可以满足大部分要求，方便、快捷、看起来很高端。但若是追求较高的安全性，还是使用密码解锁较好，并且密码设置随机一点，不要用什么生日学号手机号之类的数字，也不要和支付密码设置相同。或者如果可以且不怕麻烦，设置指纹验证后输入密码。
